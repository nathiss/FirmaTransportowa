{% extends 'webapp/base.html' %}
{% load add_class %}

{% block alert_box %}

  {{ block.super }}
  {% for error in form.non_field_errors %}
    {% include 'webapp/elements/alerts/error.html' with message=error only %}
  {% endfor %}

{% endblock %}

{% block body %}

<div class="container h-100">
  <div class="row h-100 d-flex align-items-center">
    <div class="col-md-12 col-lg-6 offset-lg-3">
      <h1 class="text-center">Dodaj Połączenie</h1>

      <form action="#" method="POST">
        {% csrf_token %}

        <div class="form-group">
          <label for="{{ form.distance.id_for_label }}">{{ form.distance.label }}</label>
          {% for error in form.distance.errors %}
            {% include 'webapp/elements/alerts/error.html' with message=error only %}
          {% endfor %}
          {{ form.distance|add_class:"form-control" }}
        </div>

        <div class="form-group">
          <label for="{{ form.price.id_for_label }}">{{ form.price.label }}</label>
          {% for error in form.price.errors %}
            {% include 'webapp/elements/alerts/error.html' with message=error only %}
          {% endfor %}
          {{ form.price|add_class:"form-control" }}
        </div>

        <div class="form-group">
          <label for="{{ form.date_time.id_for_label }}">{{ form.date_time.label }}</label>
          {% for error in form.date_time.errors %}
            {% include 'webapp/elements/alerts/error.html' with message=error only %}
          {% endfor %}
          {{ form.date_time|add_class:"form-control" }}
        </div>

        <div class="form-group">
          <label for="{{ form.starting_place.id_for_label }}">{{ form.starting_place.label }}</label>
          {% for error in form.starting_place.errors %}
            {% include 'webapp/elements/alerts/error.html' with message=error only %}
          {% endfor %}
          <select id="{{ form.starting_place.id_for_label }}" class="form-control" name='starting_place'>
            {% for starting_place in starting_places %}
              <option value="{{ starting_place.id }}">{{ starting_place }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="form-group">
          <label for="{{ form.laststop_place.id_for_label }}">{{ form.laststop_place.label }}</label>
          {% for error in form.laststop_place.errors %}
            {% include 'webapp/elements/alerts/error.html' with message=error only %}
          {% endfor %}
          <select id="{{ form.laststop_place.id_for_label }}" class="form-control" name='laststop_place'>
            {% for laststop_place in laststop_places %}
              <option value="{{ laststop_place.id }}">{{ laststop_place }}</option>
            {% endfor %}
          </select>
        </div>

        <button type="submit" class="btn btn-primary">Dodaj Połączenie</button>
      </form>

    </div>
  </div>
</div>

{% endblock %}
